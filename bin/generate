#!/usr/bin/env bash
set -eo pipefail
IFS=$'\n\t'
INSTALL=false

export JAVA_OPTS="${JAVA_OPTS} -Dlog.level=warn"
# OAS_VERSION=$(ruby -e "require './lib/clerk-http-client/version.rb'; puts ClerkHttpClient::VERSION")
# openapi-generator-cli generate -g ruby --api-name-suffix=' '  -c sdk-generator-config.json -i https://raw.githubusercontent.com/clerk/openapi-specs/refs/heads/main/bapi/2021-02-05.yml -o .generated

java -jar target/custom-openapi-generator-1.0-SNAPSHOT.jar generate \
    -c sdk-generator-config.json \
    -g clerk-ruby \
    -i https://raw.githubusercontent.com/clerk/openapi-specs/refs/heads/main/bapi/2021-02-05.yml \
    -o ./generated-code
